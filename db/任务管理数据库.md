-- `public`.`task` definition

-- Drop table

-- DROP TABLE `public`.`task`;

CREATE TABLE `public`.`task` (
	`id` bigint AUTO_INCREMENT NOT NULL,
	`task_id` character varying(20 char) NOT NULL,
	`task_name` character varying(20 char) NOT NULL,
	`task_type` character varying(20 char) NOT NULL,
	`priority` character varying(20 char) NOT NULL,
	`description` text NULL,
	`executor` character varying(20 char) NOT NULL,
	`assistants` character varying(20 char) NULL,
	`planned_start_time` datetime NOT NULL,
	`planned_end_time` datetime NOT NULL,
	`actual_start_time` datetime NULL,
	`actual_end_time` datetime NULL,
	`inspection_line` character varying(20 char) NOT NULL,
	`start_location` character varying(20 char) NOT NULL,
	`end_location` character varying(20 char) NOT NULL,
	`inspection_scope` character varying(20 char) NOT NULL,
	`status` character varying(20 char) NOT NULL,
	`completion_rate` integer NULL,
	`execution_result` text NULL,
	`issues_found` integer NULL DEFAULT 0,
	CONSTRAINT `task_completion_rate_check` CHECK (((completion_rate >= 0) AND (completion_rate <= 100))),
	CONSTRAINT `task_pkey` PRIMARY KEY (id),
	CONSTRAINT `task_task_id_key` UNIQUE (task_id)
) TABLESPACE sys_default AUTO_INCREMENT = 1;

INSERT INTO task (
    id, task_id, task_name, task_type, priority, description,
    executor, assistants, planned_start_time, planned_end_time,
    actual_start_time, actual_end_time, inspection_line,
    start_location, end_location, inspection_scope, status,
    completion_rate, execution_result, issues_found
) VALUES
(
    1, 'TASK-20250501-001', '1号线隧道巡检', '巡检', '高', '1号线隧道巡检任务',
    '李四', '王五', '2025-05-15 08:00:00', '2025-05-15 12:00:00',
    '2025-05-15 09:00:00', '2025-05-15 11:30:00', '1号线',
    '起点站', '终点站', '起点站-终点站区间', '已完成',
    100, '正常', 0
),
(
    2, 'TASK-20250601-001', '2号线设备检查', '检修', '中', '2号线设备定期检查',
    '赵六', '陈七', '2025-06-20 13:00:00', '2025-06-20 17:00:00',
    '2025-06-20 14:00:00', '2025-06-20 16:20:00', '2号线',
    'A站', 'B站', 'A站-B站区间', '已完成',
    100, '发现小问题已修复', 1
),
(
    3, 'TASK-20250701-001', '3号线日常巡视', '巡视', '低', '3号线日常巡视任务',
    '吴八', '孙九', '2025-07-01 08:00:00', '2025-07-01 12:30:00',
    '2025-07-01 08:30:00', '2025-07-01 12:00:00', '3号线',
    'B站', 'C站', 'B站-C站区间', '已完成',
    100, '正常', 0
),
(
    4, 'TASK-20250520-001', '4号线安全巡检', '巡检', '高', '4号线安全巡检任务',
    '孙十', '周十一', '2025-05-20 09:00:00', '2025-05-20 13:00:00',
    '2025-05-20 10:00:00', '2025-05-20 12:30:00', '4号线',
    'C站', 'D站', 'C站-D站区间', '已完成',
    100, '正常', 0
),
(
    5, 'TASK-20250610-001', '5号线设备维护', '维护', '中', '5号线设备维护任务',
    '吴十二', '郑十三', '2025-06-10 09:00:00', '2025-06-10 12:00:00',
    '2025-06-10 09:30:00', '2025-06-10 11:00:00', '5号线',
    'D站', 'E站', 'D站-E站区间', '已完成',
    100, '维护完成', 0
);